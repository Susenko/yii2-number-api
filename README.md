# Yii2 Number API

## –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

–†–æ–∑—Ä–æ–±–∫–∞ REST API —Å–µ—Ä–≤—ñ—Å—É –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —á–∏—Å–ª–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏ –ø—Ä–æ–µ–∫—Ç—É

- –ü—Ä–∏–π–º–∞—î –º–∞—Å–∏–≤ —á–∏—Å–µ–ª —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON.
- –û–±—á–∏—Å–ª—é—î —Å—É–º—É –≤—Å—ñ—Ö –ø–∞—Ä–Ω–∏—Ö —á–∏—Å–µ–ª –∑ –º–∞—Å–∏–≤—É.
- –ü–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—á–∏—Å–ª–µ–Ω–Ω—è.

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏ –ø—Ä–æ–µ–∫—Ç—É

- **–ú–æ–≤–∞**: PHP 8.3+ (Yii2 Framework)
- **SOLID** —Ç–∞ **DTO**
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è** –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫**
- **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: PHPUnit (–º—ñ–Ω—ñ–º—É–º 80% –ø–æ–∫—Ä–∏—Ç—Ç—è)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è**: Docker, Makefile
- **–ü–æ—Ä—Ç**: 8000

# üìå Yii2 Number API

## üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### üìÇ 1. –ö–ª–æ–Ω—É—î–º–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```sh
git clone https://github.com/your-username/yii2-number-api.git
cd yii2-number-api
```

### üîç 2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```sh
./check-dependencies.sh
```

### üõ† 3. –ë—ñ–ª–¥ —Ç–∞ –∑–∞–ø—É—Å–∫ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```sh
make build
make start
```

### üîÑ 4. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ —Ç–µ—Å—Ç–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ –Ω–∞ API (–ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)

```sh
curl -X POST http://localhost:8000/api/sum-even \
    -H "Content-Type: application/json" \
    -d '{"numbers": [1, 2, 3, 4, 5, 6]}'
```

–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:

```json
{
  "status": "success",
  "sum": 12,
  "mode": "even"
}
```

```sh
curl -X POST http://localhost:8000/api/sum-even \
    -H "Content-Type: application/json" \
    -d '{"numbers": [1, 2, 3, 4, 5, ff]}'
```

–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å 400 error Bad request:

```json
{
  "status": "error",
  "message": "Invalid JSON data in request body: Syntax error"
}
```

```sh
curl -X POST http://localhost:8000/api/sum-even \
    -H "Content-Type: application/json" \
    -d '{"numbers": [1, 2, 3, 4, 5, ff]}'
```

–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å 400 error Bad request:

```json
{
  "status": "error",
  "message": "Invalid JSON data in request body: Syntax error"
}
```

```sh
curl -X POST http://localhost:8000/api/sum-even \
    -H "Content-Type: application/json" \
    -d '{"numbers": [1, 2, 3, 4, 5, "—à—ñ—Å—Ç—å"]}'
```

–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å 400 error Bad request:

```json
{
  "status": "error",
  "message": "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö. –û—á—ñ–∫—É—é—Ç—å—Å—è –ª–∏—à–µ —á–∏—Å–ª–∞."
}
```

```sh
curl -X POST http://localhost:8000/api/sum-even \
    -H "Content-Type: application/json" \
    -d '{"n": [1, 2, 3, 4, 6]}'
```

–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å 400 error Bad request:

```json
{
  "status": "error",
  "message": "Missing \"numbers\" key in request."
}
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

- **`controllers/`** ‚Äì –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏, –æ–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤ (`ApiController.php`).
- **`dto/`** ‚Äì Data Transfer Objects (DTO) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
- **`services/`** ‚Äì –õ–æ–≥—ñ–∫–∞ –æ–±—á–∏—Å–ª–µ–Ω—å, –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ (`SumEvenCalculator.php`).
- **`validators/`** ‚Äì –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö (`NumbersValidator.php`).
- **`tests/`** ‚Äì –Æ–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏ (`SumEvenNumbersTest.php`).
- **`config/`** ‚Äì –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –¥–æ–¥–∞—Ç–∫—É (`web.php`, `params.php`).
- **`web/`** ‚Äì –í—Ö—ñ–¥–Ω–∞ —Ç–æ—á–∫–∞ (`index.php`), —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ñ–∞–π–ª–∏ (CSS, JS).
- **`Makefile`** ‚Äì –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É, –±—ñ–ª–¥—É —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- **`Dockerfile`** ‚Äì –û–ø–∏—Å —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (PHP, Xdebug, Composer).
- **`docker-compose.yml`** ‚Äì –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.

## üèó –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è SOLID —É –ø—Ä–æ–µ–∫—Ç—ñ

| –ü—Ä–∏–Ω—Ü–∏–ø                                                          | –û–ø–∏—Å                                                                         | –ü—Ä–∏–∫–ª–∞–¥ —É –ø—Ä–æ–µ–∫—Ç—ñ                                                                                                                     |
| ---------------------------------------------------------------- | ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| **S** ‚Äì Single Responsibility                                    | –ö–ª–∞—Å –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –ª–∏—à–µ –æ–¥–Ω—É –∑–æ–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ.                           | `SumEvenCalculator.php` –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –ª–æ–≥—ñ–∫—É –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —Å—É–º–∏ –ø–∞—Ä–Ω–∏—Ö —á–∏—Å–µ–ª. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–∏–Ω–µ—Å–µ–Ω–∞ —É `NumbersValidator.php`.              |
| **O** ‚Äì Open/Closed                                              | –ö–ª–∞—Å –º–∞—î –±—É—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è, –∞–ª–µ –∑–∞–∫—Ä–∏—Ç–∏–π –¥–ª—è –∑–º—ñ–Ω.               | `SumCalculatorInterface.php` –¥–æ–∑–≤–æ–ª—è—î –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –æ–±—á–∏—Å–ª–µ–Ω—å –±–µ–∑ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–¥—É.                                     |
| **L** ‚Äì Liskov Substitution (–ü—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä–∏ –õ—ñ—Å–∫–æ–≤) | –î–æ—á—ñ—Ä–Ω—ñ –∫–ª–∞—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –±–µ–∑ –∑–º—ñ–Ω —É –ø–æ–≤–µ–¥—ñ–Ω—Ü—ñ. | `SumEvenCalculator` —Ä–µ–∞–ª—ñ–∑—É—î `SumCalculatorInterface`, —Ç–æ–º—É –π–æ–≥–æ –º–æ–∂–Ω–∞ –∑–∞–º—ñ–Ω–∏—Ç–∏ —ñ–Ω—à–∏–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º –±–µ–∑ –∑–º—ñ–Ω–∏ –ª–æ–≥—ñ–∫–∏ `ApiController`. |
| **I** ‚Äì Interface Segregation                                    | –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≤—É–∑—å–∫–æ—Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º–∏, –∞ –Ω–µ –º—ñ—Å—Ç–∏—Ç–∏ –∑–∞–π–≤—ñ –º–µ—Ç–æ–¥–∏.   | `SumCalculatorInterface.php` –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ `calculate()`, —â–æ —Ä–æ–±–∏—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å—Ç–∏–º.                                      |
| **D** ‚Äì Dependency Inversion                                     | –ö–ª–∞—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π, –∞ –Ω–µ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π.       | `ApiController` –æ—Ç—Ä–∏–º—É—î `SumCalculatorInterface` —á–µ—Ä–µ–∑ —ñ–Ω'—î–∫—Ü—ñ—é –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –±–µ–∑ –∑–º—ñ–Ω–∏ –∫–æ–¥—É –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞.  |

### ‚úÖ –ì–æ—Ç–æ–≤–æ! üöÄ

```

```
